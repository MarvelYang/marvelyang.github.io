<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>语言概览 | 荒野之息</title>
    <meta name="description" content="荒野之息">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.d6fa5cf3.css" as="style"><link rel="preload" href="/assets/js/app.2fcf62b1.js" as="script"><link rel="preload" href="/assets/js/2.eabf7383.js" as="script"><link rel="preload" href="/assets/js/21.2f89c8fd.js" as="script"><link rel="prefetch" href="/assets/js/10.93bf5efd.js"><link rel="prefetch" href="/assets/js/11.cf87564b.js"><link rel="prefetch" href="/assets/js/12.156a7f79.js"><link rel="prefetch" href="/assets/js/13.38226f7f.js"><link rel="prefetch" href="/assets/js/14.dfecd764.js"><link rel="prefetch" href="/assets/js/15.d85dabe5.js"><link rel="prefetch" href="/assets/js/16.7b15c211.js"><link rel="prefetch" href="/assets/js/17.8a25298f.js"><link rel="prefetch" href="/assets/js/18.3de20535.js"><link rel="prefetch" href="/assets/js/19.a9bb6ba4.js"><link rel="prefetch" href="/assets/js/20.c74dcd17.js"><link rel="prefetch" href="/assets/js/22.3a59be76.js"><link rel="prefetch" href="/assets/js/23.4f93b5e8.js"><link rel="prefetch" href="/assets/js/24.be8f7495.js"><link rel="prefetch" href="/assets/js/25.0738f074.js"><link rel="prefetch" href="/assets/js/26.4e76997b.js"><link rel="prefetch" href="/assets/js/27.0fa0d0ee.js"><link rel="prefetch" href="/assets/js/28.53ece060.js"><link rel="prefetch" href="/assets/js/29.e3383bf6.js"><link rel="prefetch" href="/assets/js/3.9898a0b0.js"><link rel="prefetch" href="/assets/js/30.701cc549.js"><link rel="prefetch" href="/assets/js/31.aa0bc147.js"><link rel="prefetch" href="/assets/js/4.79d2e3d1.js"><link rel="prefetch" href="/assets/js/5.002c32f2.js"><link rel="prefetch" href="/assets/js/6.01559dd5.js"><link rel="prefetch" href="/assets/js/7.5368c173.js"><link rel="prefetch" href="/assets/js/8.edac49f1.js"><link rel="prefetch" href="/assets/js/9.7bdd4b4b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6fa5cf3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">荒野之息</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Skill/" class="nav-link router-link-active">
  技能树
</a></div><div class="nav-item"><a href="/Equipment/" class="nav-link">
  装备库
</a></div><div class="nav-item"><a href="/LeetCode/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/code/" class="nav-link">
  代码
</a></div><div class="nav-item"><a href="http://marvelyang.github.io/livun.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/MarvelYang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Skill/" class="nav-link router-link-active">
  技能树
</a></div><div class="nav-item"><a href="/Equipment/" class="nav-link">
  装备库
</a></div><div class="nav-item"><a href="/LeetCode/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/code/" class="nav-link">
  代码
</a></div><div class="nav-item"><a href="http://marvelyang.github.io/livun.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/MarvelYang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>技能树</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Javascript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-2"><p class="sidebar-heading open"><span>ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Skill/Javascript/let-const.html" class="sidebar-link">let、const</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-2"><p class="sidebar-heading open"><span>布局</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Skill/CSS/Display/BFC.html" class="sidebar-link">BFC</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Dart</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Skill/Dart/LanguageTour.html" class="active sidebar-link">语言概览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#你好，世界！" class="sidebar-link">你好，世界！</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#流程控制语句" class="sidebar-link">流程控制语句</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#注释" class="sidebar-link">注释</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#导入（import）" class="sidebar-link">导入（Import）</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#类（class" class="sidebar-link">类（Class)</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#mixins" class="sidebar-link">Mixins</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#接口和抽象类" class="sidebar-link">接口和抽象类</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#异步" class="sidebar-link">异步</a></li><li class="sidebar-sub-header"><a href="/Skill/Dart/LanguageTour.html#异常" class="sidebar-link">异常</a></li></ul></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="语言概览"><a href="#语言概览" class="header-anchor">#</a> 语言概览</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>包含实例的 Dart 语言全面概览。</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#你好，世界！">你好，世界！</a></li><li><a href="#变量">变量</a></li><li><a href="#流程控制语句">流程控制语句</a></li><li><a href="#函数">函数</a></li><li><a href="#注释">注释</a></li><li><a href="#导入（import）">导入（Import）</a></li><li><a href="#类（class">类（Class)</a></li><li><a href="#mixins">Mixins</a></li><li><a href="#接口和抽象类">接口和抽象类</a></li><li><a href="#异步">异步</a></li><li><a href="#异常">异常</a></li></ul></div><p></p> <h2 id="你好，世界！"><a href="#你好，世界！" class="header-anchor">#</a> 你好，世界！</h2> <p>每个应用都有一个<code>main()</code>函数。你可以使用顶层函数<code>print()</code>来将一段文本输出显示到控制台：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h2> <p>虽然 Dart 是代码类型安全的语言，但是由于其支持类型推断，因此大多数变量不需要显式地指定类型：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'旅行者一号'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token number">1977</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> antennaDiameter <span class="token operator">=</span> <span class="token number">3.7</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> flybyObjects <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'木星'</span><span class="token punctuation">,</span> <span class="token string">'土星'</span><span class="token punctuation">,</span> <span class="token string">'天王星'</span><span class="token punctuation">,</span> <span class="token string">'海王星'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'tags'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'土星'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'url'</span><span class="token punctuation">:</span> <span class="token string">'//path/to/saturn.jpg'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>查阅文档关于 <code>final</code> 和 <code>const</code> 关键字以及静态类型等。</p></blockquote> <h2 id="流程控制语句"><a href="#流程控制语句" class="header-anchor">#</a> 流程控制语句</h2> <p>Dart 支持常用的流程控制语句：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'21世纪'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&gt;=</span> <span class="token number">1901</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'20世纪'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> object <span class="token keyword">in</span> flybyObjects<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>int month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> month <span class="token operator">&lt;</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> month<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>month<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>year <span class="token operator">&lt;</span> <span class="token number">2016</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    year <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>阅读更多 Dart 中关于控制流程语句的内容，包括<code>break</code>和<code>continue</code>关键字、<code>switch</code>语句和<code>case</code>子句以及<code>assert</code>语句。</p></blockquote> <h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <p>建议为每个函数的参数以及返回值都制定类型：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>int <span class="token function">fibonacci</span><span class="token punctuation">(</span>int n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>=&gt;</code>（胖箭头）简写语法用于仅包含一条语句的函数。该语法在将匿名函数作为参数传递时非常有用：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>flybyObjects<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'土星'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的示例除了向你展示了匿名函数（上例中传入<code>where</code>函数的参数是一个匿名函数）外，还向你展示了将函数作为参数使用的方式：上面示例将顶层函数<code>print()</code>作为参数传给了<code>forEach()</code>函数。</p> <p>阅读更多 Dart 中有关函数的内容，包括可选参数、默认参数值以及词法作用域。</p> <h2 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h2> <p>Dart 通常使用双斜杠//作为注释的开始。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 这是一个普通的单行注释。</span>

<span class="token comment">/// 这是一个文档注释。</span>
<span class="token comment">/// 文档注释用于为库、类以及类的成员添加注释。</span>
<span class="token comment">/// 像IDE和dartdoc这样的工具可以专门处理文档注释。</span>

<span class="token comment">/* 也可以像这样使用单斜杠和星号的注释方式 */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>阅读更多 Dart 中有关注释的内容，包括文档工具的工作原理。</p> <h2 id="导入（import）"><a href="#导入（import）" class="header-anchor">#</a> 导入（Import）</h2> <p>使用<code>import</code>关键字来访问在其他库中定义的 API。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 导入核心库</span>
<span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span>

<span class="token comment">// 从外部 Package 中导入库</span>
<span class="token keyword">import</span> <span class="token string">'package:test/test.dart'</span><span class="token punctuation">;</span>

<span class="token comment">// 导入文件</span>
<span class="token keyword">import</span> <span class="token string">'path/to/my_other_file.dart'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>阅读更多 Dart 中有关库和可见性的内容，包括库前缀、<code>show</code>和<code>hide</code>关键字以及通过<code>deferred</code>关键字实现的懒加载。</p> <h2 id="类（class"><a href="#类（class" class="header-anchor">#</a> 类（Class)</h2> <p>下面的示例中像你展示了一个包含三个属性、两个构造函数以及一个方法的类。其中一个属性不能直接赋值，因此它被定义为一个<code>getter</code>而不是变量。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Spacecraft</span> <span class="token punctuation">{</span>
    String name<span class="token punctuation">;</span>
    DateTime launchDate<span class="token punctuation">;</span>

    <span class="token comment">// 构造函数，带有可以直接为成员变量赋值的语法糖。</span>
    <span class="token function">Spacecraft</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>launchDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里可以实现初始化代码。</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 命名构造函数，转发到默认构造函数。</span>
    Spacecraft<span class="token punctuation">.</span><span class="token function">unlaunched</span><span class="token punctuation">(</span>Sting name<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    int <span class="token keyword">get</span> launchYear <span class="token operator">=</span><span class="token operator">&gt;</span> launchDate<span class="token operator">?</span><span class="token punctuation">.</span>year<span class="token punctuation">;</span> <span class="token comment">// 只读的非 final 的属性</span>

    <span class="token comment">// 方法。</span>
    <span class="token keyword">void</span> <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'宇宙飞船: $name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>launchDate <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            int years <span class="token operator">=</span> DateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>launchDate<span class="token punctuation">)</span><span class="token punctuation">.</span>inDays <span class="token operator">~/</span> <span class="token number">365</span><span class="token punctuation">;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'发射时间：$launchYear ($years years ago)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'尚未发射'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>你可以像下面这样使用<code>Spacecraft</code>类：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> voyager <span class="token operator">=</span> <span class="token function">Spacecraft</span><span class="token punctuation">(</span><span class="token string">'旅行者一号'</span><span class="token punctuation">,</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">1977</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
voyager<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> voyager3 <span class="token operator">=</span> Spacecraft<span class="token punctuation">.</span><span class="token function">unlaunched</span><span class="token punctuation">(</span><span class="token string">'旅行者三号'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
voyager3<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>阅读更多 Dart 中有关类的内容，比如可选的<code>@override</code>注解等等。</p> <h2 id="mixins"><a href="#mixins" class="header-anchor">#</a> Mixins</h2> <p>Mixin 是一种在多个类层次结构中重用代码的方法。下面的类可以作为一个 Mixin：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Piloted</span> <span class="token punctuation">{</span>
    int astronauts <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">describeCrew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'宇航员人数：$astronauts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>现在你只需要使用 Mixin 的方式继承这个类就可以将该类中的功能添加给其他类：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">PilotedCraft</span> <span class="token keyword">extends</span> <span class="token class-name">Spacecraft</span> <span class="token keyword">with</span> Piloted <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>自此，<code>PilotedCraft</code>类中就包含了<code>astronauts</code>字段以及<code>describeCrew()</code>方法。</p> <p>阅读更多关于 Mixin 的内容。</p> <h2 id="接口和抽象类"><a href="#接口和抽象类" class="header-anchor">#</a> 接口和抽象类</h2> <p>Dart 没有 <code>interface</code> 关键字。相反，所有的类都隐式定义了一个接口。因此，任意类都可以作为接口被实现。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MockSpaceship</span> <span class="token keyword">implements</span> <span class="token class-name">Spacecraft</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>阅读更多关于隐式接口的内容。</p> <p>你可以创建一个被任意具体类扩展（或实现）的抽象类。抽象类可以包含抽象方法（不含方法体的方法）。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Describable</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">describeWithEmphasis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'==========='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'==========='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>任意一个扩展了<code>Descriable</code>的类都拥有<code>describeWithEmphasis</code>方法，这个方法又会去调用实现类中实现的<code>describe()</code>方法。</p> <p>阅读更多关于抽象类和抽象方法的内容。</p> <h2 id="异步"><a href="#异步" class="header-anchor">#</a> 异步</h2> <p>使用<code>async</code>和<code>await</code>关键字可以让你避免回调地狱（Callback Hell）并使你的代码更具可读性。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">const</span> oneSecond <span class="token operator">=</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token function">printWithDelay</span><span class="token punctuation">(</span>Sting message<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> Future<span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>oneSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面的方法相当于：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token function">printWithDelay</span><span class="token punctuation">(</span>String message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Future<span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>oneSecond<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如下一个示例所示，<code>async</code>和<code>await</code>关键字有助于使异步代码变得易于阅读。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token function">createDescriptions</span><span class="token punctuation">(</span>Iterable<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> objects<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> object <span class="token keyword">in</span> objects<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">'$object.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> modified <span class="token operator">=</span> awiat file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'文件 $object 已经存在。它上一次的修改时间为 $modified。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">writeAsSting</span><span class="token punctuation">(</span><span class="token string">'开始在此文件中描述 $object。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> on IOException <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'不能为 $object 创建描述：$e'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>你也可以使用<code>async*</code>关键字，其可以为你提供一个可读性更好的方式去生成 Stream。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>Stream<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">report</span><span class="token punctuation">(</span>Spacecraft craft<span class="token punctuation">,</span> Iterable<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> objects<span class="token punctuation">)</span> <span class="token keyword">async*</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> object inn objects<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> Future<span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>oneSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">yield</span> <span class="token string">'${craft.name} 由 $object 飞行。'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>阅读更多关于异步支持的内容，包括异步函数、<code>Future</code>、<code>Stream</code>以及异步循环（<code>await for</code>）。</p> <h2 id="异常"><a href="#异常" class="header-anchor">#</a> 异常</h2> <p>使用<code>throw</code>关键字抛出一个异常：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>astronauts <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token function">StateError</span><span class="token punctuation">(</span><span class="token string">'没有宇航员。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用<code>try</code>语句配合<code>on</code>或<code>catch</code>（两者也可同时使用）关键字来捕获一个异常：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> object <span class="token keyword">in</span> flybyObjects<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> description <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">'$object.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> on IOException <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'无法描述该对象：$e'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    flybyObjects<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>注意上述代码是异步的；同步代码以及异步函数中的代码都可以使用<code>try</code>捕获异常。</p> <p>阅读更多关于异常的内容，包括栈追踪、<code>rethrow</code>关键字以及<code>Error</code>和<code>Exception</code>之间的区别。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Skill/CSS/Display/BFC.html" class="prev">
        BFC
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2fcf62b1.js" defer></script><script src="/assets/js/2.eabf7383.js" defer></script><script src="/assets/js/21.2f89c8fd.js" defer></script>
  </body>
</html>
